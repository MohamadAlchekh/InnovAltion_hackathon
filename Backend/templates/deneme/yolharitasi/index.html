<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HaritAI</title>
    <link rel="stylesheet" href="../../../static/stylesHarita.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <a href="/" class="nav-link">Anasayfa</a>
        <a href="#" class="nav-link" id="how-to-use">Nasıl Kullanılır</a>
        <div class="how-to-use-card">Yol haritasında duraklardaki sayılara sırasıyla basarak size uygun adımları görebilirsiniz.</div>
   
    </nav>

    <h1 class="page-title">Veri Yapıları Yol Haritası</h1>
    
    <div class="roadmap-container">
        <div id="roadmap" class="roadmap-content"></div>
        <div class="roadmap">
            <button class="button step-button" data-step="1" style="left: 240px; top: 455px;">1</button>
            <div class="info-card" style="left: 200px; top: 390px; height: 5px; width: 10%; display: flex; justify-content: center; align-items: center; float: left; padding-right: 80px; padding-left: 80px; padding-top: 150px; padding-bottom: 150px; background-color: antiquewhite;"></div>
            
            <button class="button step-button" data-step="2" style="left: 490px; top: 420px;">2</button>
            <div class="info-card" style="left: 395px; top: 278px; height: 5px; width: 10%; display: flex; justify-content: center; align-items: center; float: left; padding-right: 70px; padding-left: 70px; padding-top: 150px; padding-bottom: 150px; background-color: antiquewhite;"></div>
            
            <button class="button step-button" data-step="3" style="left: 720px; top: 335px;">3</button>
            <div class="info-card" style="left: 625px; top: 193px; height: 5px; width: 10%; display: flex; justify-content: center; align-items: center; float: left; padding-right: 90px; padding-left: 90px; padding-top: 100px; padding-bottom: 100px; background-color: antiquewhite;"></div>
            
            <button class="button step-button" data-step="4" style="left: 960px; top: 428px;">4</button>
            <div class="info-card" style="left: 865px; top: 286px; height: 5px; width: 10%; display: flex; justify-content: center; align-items: center; float: left; padding-right: 70px; padding-left: 70px; padding-top: 100px; padding-bottom: 100px; background-color: antiquewhite;"></div>

            <button class="button step-button" data-step="5" style="left: 1200px; top: 450px;">5</button>
            <div class="info-card" style="left: 1105px; top: 308px; height: 5px; width: 10%; display: flex; justify-content: center; align-items: center; float: left; padding-right: 70px; padding-left: 70px; padding-top: 150px; padding-bottom: 150px; background-color: antiquewhite;"></div>
            
        </div>
    </div>

    <script>
        $(document).ready(function() {
            console.log('Page loaded. Checking for roadmap...');
            const roadmap = sessionStorage.getItem('roadmap');
            console.log('Retrieved from sessionStorage:', roadmap);

            if (roadmap && roadmap.trim() !== '') {
                // Split the roadmap into steps and clean them up
                const steps = roadmap
                    .split('\n')
                    .filter(step => step.trim() !== '')
                    .map(step => step.trim());

                console.log('Parsed steps:', steps);

                steps.forEach((step, index) => {
                    if (index < 5) {
                        const infoCard = $('.info-card').eq(index);
                        const stepContent = step.replace(/^\d+\.?\s*/, ''); // Remove number prefix
                        infoCard.html(stepContent);
                    }
                });

          
                $('.step-button').hover(
                    function() {
                        const stepIndex = $(this).data('step') - 1;
                        $('.info-card').eq(stepIndex).addClass('active');
                    },
                    function() {
                        const stepIndex = $(this).data('step') - 1;
                        $('.info-card').eq(stepIndex).removeClass('active');
                    }
                );
            } else {
                $('#roadmap').html('Yol haritası bulunamadı. Lütfen ana sayfadan yeni bir yol haritası oluşturun.');
            }
        });
    </script>
</body>
</html>